define("MT.SPM/0.0.2/src/page/users-admin",[],function(t,e){var o="/users/admin/",n=function(){var e=t("MT.SPM/0.0.2/src/utils/common");e.addBaseTag(o);{var n=angular.module("ASS",["ui.router","ASS.post","ASS.service"]);t("MT.SPM/0.0.2/src/page/admin/post/post"),t("MT.SPM/0.0.2/src/page/admin/components/services/service")}n.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/post")}]),angular.bootstrap(document,["ASS"])};e.init=n}),define("MT.SPM/0.0.2/src/utils/common",[],function(t,e){e.addBaseTag=function(t){var e=document.createElement("base");e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)}}),define("MT.SPM/0.0.2/src/page/admin/post/post",[],function(t,e,o){var n=angular.module("ASS.post",["ui.router"]);n.config(["$stateProvider","$urlRouterProvider",function(t){t.state("post",{url:"/post",views:{"":{templateUrl:"/public/js-spm/src/page/admin/post/layout.html",controller:"postCtrl"},"side@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.side.html"},"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.main.html",controller:"postMainCtrl"}}}).state("post.list",{url:"/list",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.list.html",controller:"postListCtrl"}}}).state("post.add",{url:"/add",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.add.html",controller:"postAddCtrl"}}}).state("post.rev",{url:"/rev/:pid",views:{"main@post":{templateUrl:"/public/js-spm/src/page/admin/post/post.rev.html",controller:"postRevCtrl"}}})}]),n.controller("postCtrl",["$scope",function(t){t.menuList=[{name:"Main",url:"post"},{name:"List Post",url:"post.list"},{name:"Add Post",url:"post.add"}]}]),n.controller("postMainCtrl",["$scope","postService",function(t){t.title="Post.Main"}]),n.controller("postListCtrl",["$scope","postService",function(t,e){function o(){e.getAll(n).then(function(e){t.post=e.posts,t.pageCount=e.pageCount,t.Next=t.pageCount>n?!0:!1,t.Prev=n>1?!0:!1,console.log(e)})}t.title="List all posts";var n=1;o(),t.prevPage=function(){n>1&&(n--,o())},t.nextPage=function(){t.pageCount>n&&(n++,o())},t.del=function(t){console.log(t),e.del(t).then(function(t){console.log(t)})}}]),n.controller("postAddCtrl",["$scope","postService",function(t,e){t.title="Add a new post",t.categories=[{id:1,name:"Default"},{id:2,name:"Document"}],t.post={},t.post.category=t.categories[0],t.submitPostForm=function(o){o?(console.log(t.post),e.add(t.post).then(function(e){console.log(e),alert("success"),t.post={}})):alert("you need complete the form")}}]),n.controller("postRevCtrl",["$scope","$stateParams","postService",function(t,e,o){t.title="Revision a old post";var n=e.pid;o.get(n).then(function(e){console.log(e),t.post=e.pageContent.post}),t.categories=[{id:1,name:"Default"},{id:2,name:"Document"}],t.submitPostForm=function(e){e?(console.log(t.post),o.rev(n,t.post).then(function(t){console.log(t),alert("success")})):alert("you need complete the form")}}]),o.exports=n}),define("MT.SPM/0.0.2/src/page/admin/components/services/service",[],function(t,e,o){{var n=angular.module("ASS.service",["ASS.service.postService","ASS.service.ajaxService"]);t("MT.SPM/0.0.2/src/page/admin/components/services/postService"),t("MT.SPM/0.0.2/src/page/admin/components/services/ajaxService")}o.exports=n}),define("MT.SPM/0.0.2/src/page/admin/components/services/postService",[],function(t,e,o){var n="/users/post",s="/api/posts",r="thonatos",a=angular.module("ASS.service.postService",[]).factory("postService",["ajaxService",function(t){function e(e){return e.category=e.category.name,e.author=r||"nobody",t.post(n,e)}function o(e){return t.del(n+"/"+e)}function a(e,o){return t.put(n+"/"+e,o)}function i(e){return t.get(s+"/"+e)}function c(e){return t.get(s+"/page/"+e)}return{add:e,del:o,rev:a,get:i,getAll:c}}]);o.exports=a}),define("MT.SPM/0.0.2/src/page/admin/components/services/ajaxService",[],function(t,e,o){var n=angular.module("ASS.service.ajaxService",[]).factory("ajaxService",["$http",function(t){function e(e,o){var n=t.post(e,o).then(function(t){return t.data});return n}function o(e){var o=t.get(e).then(function(t){return t.data});return o}function n(e){var o=t.delete(e).then(function(t){return t.data});return o}function s(e,o){var n=t.put(e,o).then(function(t){return t.data});return n}return{post:e,get:o,del:n,put:s}}]);o.exports=n});