define("MT.SPM/0.0.3/src/page/demo-touch-event-mobile",[],function(t,e){e.init=function(){function e(t,e,i){$(".direction span").html(t),$(".degree-x span").html(e),$(".degree-y span").html(i),$(".box-3d .rectangle").css({transform:"rotateX("+e+"deg) rotateY("+i+"deg)"})}var i=0,n=0,a=t("MT.SPM/0.0.3/src/utils/touchListener").create($(".box-3d"));a.registerSwipeLeftCallback(function(){n-=120,e("left",i,n)}),a.registerSwipeRightCallback(function(){n+=120,e("right",i,n)}),a.registerSwipeUpCallback(function(){i-=120,e("up",i,n)}),a.registerSwipeDownCallback(function(){i+=120,e("down",i,n)})}}),define("MT.SPM/0.0.3/src/utils/touchListener",[],function(t,e,i){var n={HIJACK_UP:8,HIJACK_RIGHT:4,HIJACK_DOWN:2,HIJACK_LEFT:1,create:function(t,e){function i(){t.bind("touchstart",function(t){var e=r(t);return p=!0,m=!1,w=[],w.push(e),!0}),t.bind("touchmove",function(t){if(!p)return!1;var e=r(t);if(!e)return p=!1,!1;w.push(e);var i=w[w.length-2],o=e.left-i.left,s=e.top-i.top,l=(o>0?n.HIJACK_RIGHT:n.HIJACK_LEFT,s>0?n.HIJACK_DOWN:n.HIJACK_UP);l&c&&t.preventDefault(),a()}),t.bind("touchend",function(){})}function a(){if(!m){var t=w[0],e=w[w.length-1];if(t.top-e.top>g.swipeVerticalDistance&&e.timestamp-t.timestamp<g.timeout&&(m=!1,s)){var i=s();i&&(p=!1)}if(e.top-t.top>g.swipeVerticalDistance&&e.timestamp-t.timestamp<g.timeout&&(m=!1,l)){var i=l();i&&(p=!1)}if(e.left-t.left>g.swipeHorizontalDistance&&e.timestamp-t.timestamp<g.timeout&&(m=!1,u)){var i=u();i&&(p=!1)}if(t.left-e.left>g.swipeHorizontalDistance&&e.timestamp-t.timestamp<g.timeout&&(m=!1,f)){var i=f();i&&(p=!1)}}}function r(t){var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i={left:e.clientX,top:e.clientY,timestamp:(new Date).valueOf()};return i}var o={},c=0;e=e||{};var s,l,u,f,p,m,g={swipeHorizontalDistance:e.swipeHorizontalDistance||30,swipeVerticalDistance:e.swipeVerticalDistance||30,timeout:300},w=new Array;return i(),o.setHijackMask=function(t){c|=t},o.hijackAll=function(){c=n.HIJACK_UP+n.HIJACK_RIGHT+n.HIJACK_DOWN+n.HIJACK_LEFT},o.freeAll=function(){c=0},o.freeHijackMask=function(t){c|=t,c-=t},o.registerSwipeUpCallback=function(t){s=t},o.registerSwipeDownCallback=function(t){l=t},o.registerSwipeLeftCallback=function(t){u=t},o.registerSwipeRightCallback=function(t){f=t},o}};i.exports=n});